u2 = l2_Izz*th2dd + l3_Izz*th2dd + l4_Izz*th2dd + l5_Izz*th2dd + (m3*(2*(l2*cos(th2)*sin(th1)*th1d + l2*cos(th1)*sin(th2)*th2d - (l3*cos(th1)*cos(th2)*cos(th3)*th3d)/2 + (l3*cos(th2)*sin(th1)*sin(th3)*th1d)/2 + (l3*cos(th1)*sin(th2)*sin(th3)*th2d)/2)*(l2*cos(th1)*cos(th2)*th2d - l2*sin(th1)*sin(th2)*th1d + (l3*cos(th1)*cos(th2)*sin(th3)*th2d)/2 + (l3*cos(th1)*cos(th3)*sin(th2)*th3d)/2 - (l3*sin(th1)*sin(th2)*sin(th3)*th1d)/2) + 2*(l2*cos(th1)*sin(th2) + (l3*cos(th1)*sin(th2)*sin(th3))/2)*(l2*cos(th1)*cos(th2)*th1d^2 + l2*cos(th1)*cos(th2)*th2d^2 + l2*cos(th2)*sin(th1)*th1dd + l2*cos(th1)*sin(th2)*th2dd + (l3*cos(th2)*sin(th1)*sin(th3)*th1dd)/2 + (l3*cos(th1)*sin(th2)*sin(th3)*th2dd)/2 - 2*l2*sin(th1)*sin(th2)*th2d*th1d + (l3*cos(th1)*cos(th2)*sin(th3)*th1d^2)/2 + (l3*cos(th1)*cos(th2)*sin(th3)*th2d^2)/2 + (l3*cos(th1)*cos(th2)*sin(th3)*th3d^2)/2 - (l3*cos(th1)*cos(th2)*cos(th3)*th3dd)/2 + l3*cos(th2)*cos(th3)*sin(th1)*th3d*th1d + l3*cos(th1)*cos(th3)*sin(th2)*th3d*th2d - l3*sin(th1)*sin(th2)*sin(th3)*th2d*th1d) - 2*(l2*cos(th1)*cos(th2)*th1d - l2*sin(th1)*sin(th2)*th2d + (l3*cos(th1)*cos(th2)*sin(th3)*th1d)/2 + (l3*cos(th2)*cos(th3)*sin(th1)*th3d)/2 - (l3*sin(th1)*sin(th2)*sin(th3)*th2d)/2)*(l2*cos(th1)*sin(th2)*th1d + l2*cos(th2)*sin(th1)*th2d + (l3*cos(th1)*sin(th2)*sin(th3)*th1d)/2 + (l3*cos(th2)*sin(th1)*sin(th3)*th2d)/2 + (l3*cos(th3)*sin(th1)*sin(th2)*th3d)/2) + 2*(l2*sin(th1)*sin(th2) + (l3*sin(th1)*sin(th2)*sin(th3))/2)*(l2*cos(th2)*sin(th1)*th1d^2 + l2*cos(th2)*sin(th1)*th2d^2 - l2*cos(th1)*cos(th2)*th1dd + l2*sin(th1)*sin(th2)*th2dd + (l3*sin(th1)*sin(th2)*sin(th3)*th2dd)/2 + (l3*cos(th2)*sin(th1)*sin(th3)*th1d^2)/2 + (l3*cos(th2)*sin(th1)*sin(th3)*th2d^2)/2 + (l3*cos(th2)*sin(th1)*sin(th3)*th3d^2)/2 - (l3*cos(th1)*cos(th2)*sin(th3)*th1dd)/2 - (l3*cos(th2)*cos(th3)*sin(th1)*th3dd)/2 + 2*l2*cos(th1)*sin(th2)*th2d*th1d - l3*cos(th1)*cos(th2)*cos(th3)*th3d*th1d + l3*cos(th1)*sin(th2)*sin(th3)*th2d*th1d + l3*cos(th3)*sin(th1)*sin(th2)*th3d*th2d) + 2*(2*l2*cos(th2) + (l3*cos(th3)*sin(th2))/2)*(- 2*l2*sin(th2)*th2d^2 + 2*l2*cos(th2)*th2dd + (l3*cos(th2)*cos(th3)*th2d^2)/2 + (l3*cos(th2)*cos(th3)*th3d^2)/2 + (l3*cos(th3)*sin(th2)*th2dd)/2 + (l3*cos(th2)*sin(th3)*th3dd)/2 - l3*sin(th2)*sin(th3)*th3d*th2d) - 2*(2*l2*cos(th2)*th2d + (l3*cos(th3)*sin(th2)*th2d)/2 + (l3*cos(th2)*sin(th3)*th3d)/2)*(2*l2*sin(th2)*th2d - (l3*cos(th2)*cos(th3)*th2d)/2 + (l3*sin(th2)*sin(th3)*th3d)/2)))/2 + beta2*th2d - (m5*(2*(2*l2*cos(th2) + l3*cos(th3)*sin(th2) - l4*cos(th3)*sin(th2)*sin(delta - th4) - (l5*cos(th3)*sin(th2)*sin(th5)*sin(delta - th4))/2)*(2*l2*sin(th2)*th2d^2 - 2*l2*cos(th2)*th2dd - l3*cos(th2)*cos(th3)*th2d^2 - l3*cos(th2)*cos(th3)*th3d^2 - l3*cos(th3)*sin(th2)*th2dd - l3*cos(th2)*sin(th3)*th3dd + l4*cos(th2)*cos(th3)*sin(delta - th4)*th2d^2 + l4*cos(th2)*cos(th3)*sin(delta - th4)*th3d^2 + l4*cos(th2)*cos(th3)*sin(delta - th4)*th4d^2 + 2*l3*sin(th2)*sin(th3)*th3d*th2d + l4*cos(th2)*cos(th3)*cos(delta - th4)*th4dd + l4*cos(th3)*sin(th2)*sin(delta - th4)*th2dd + l4*cos(th2)*sin(th3)*sin(delta - th4)*th3dd + (l5*cos(th2)*cos(th3)*sin(th5)*sin(delta - th4)*th2d^2)/2 + (l5*cos(th2)*cos(th3)*sin(th5)*sin(delta - th4)*th3d^2)/2 + (l5*cos(th2)*cos(th3)*sin(th5)*sin(delta - th4)*th4d^2)/2 + (l5*cos(th2)*cos(th3)*sin(th5)*sin(delta - th4)*th5d^2)/2 + (l5*cos(th2)*cos(th3)*sin(th5)*cos(delta - th4)*th4dd)/2 - (l5*cos(th2)*cos(th3)*cos(th5)*sin(delta - th4)*th5dd)/2 - 2*l4*cos(th3)*sin(th2)*cos(delta - th4)*th4d*th2d - 2*l4*cos(th2)*sin(th3)*cos(delta - th4)*th4d*th3d + (l5*cos(th3)*sin(th2)*sin(th5)*sin(delta - th4)*th2dd)/2 + (l5*cos(th2)*sin(th3)*sin(th5)*sin(delta - th4)*th3dd)/2 - 2*l4*sin(th2)*sin(th3)*sin(delta - th4)*th3d*th2d + l5*cos(th2)*cos(th3)*cos(th5)*cos(delta - th4)*th5d*th4d - l5*cos(th3)*sin(th2)*sin(th5)*cos(delta - th4)*th4d*th2d - l5*cos(th2)*sin(th3)*sin(th5)*cos(delta - th4)*th4d*th3d + l5*cos(th3)*cos(th5)*sin(th2)*sin(delta - th4)*th5d*th2d + l5*cos(th2)*cos(th5)*sin(th3)*sin(delta - th4)*th5d*th3d - l5*sin(th2)*sin(th3)*sin(th5)*sin(delta - th4)*th3d*th2d) + 2*(l2*cos(th1)*sin(th2)*th1d + l2*cos(th2)*sin(th1)*th2d + l3*cos(th1)*sin(th2)*sin(th3)*th1d + l3*cos(th2)*sin(th1)*sin(th3)*th2d + l3*cos(th3)*sin(th1)*sin(th2)*th3d - (l4*sin(th1)*sin(th2)*sin(th3)*cos(delta - th4)*th1d)/2 + (l4*cos(th1)*sin(th2)*sin(th3)*sin(delta - th4)*th4d)/2 + (l4*sin(th1)*sin(th2)*sin(th3)*sin(delta - th4)*th4d)/2 + (l4*cos(th1)*cos(th2)*sin(th3)*cos(delta - th4)*th2d)/2 + (l4*cos(th1)*cos(th3)*sin(th2)*cos(delta - th4)*th3d)/2 + (l4*cos(th1)*sin(th2)*sin(th3)*cos(delta - th4)*th1d)/2 + (l4*cos(th2)*sin(th1)*sin(th3)*cos(delta - th4)*th2d)/2 + (l4*cos(th3)*sin(th1)*sin(th2)*cos(delta - th4)*th3d)/2 + (l5*cos(th1)*cos(th5)*sin(th2)*sin(th3)*cos(delta - th4)*th1d)/2 + (l5*cos(th2)*cos(th5)*sin(th1)*sin(th3)*cos(delta - th4)*th2d)/2 + (l5*cos(th3)*cos(th5)*sin(th1)*sin(th2)*cos(delta - th4)*th3d)/2 + (l5*cos(th5)*sin(th1)*sin(th2)*sin(th3)*sin(delta - th4)*th4d)/2 - (l5*sin(th1)*sin(th2)*sin(th3)*sin(th5)*cos(delta - th4)*th5d)/2)*(l2*cos(th1)*cos(th2)*th1d - l2*sin(th1)*sin(th2)*th2d + l3*cos(th1)*cos(th2)*sin(th3)*th1d + l3*cos(th2)*cos(th3)*sin(th1)*th3d - l3*sin(th1)*sin(th2)*sin(th3)*th2d - (l4*sin(th1)*sin(th2)*sin(th3)*cos(delta - th4)*th2d)/2 + (l4*cos(th2)*sin(th1)*sin(th3)*sin(delta - th4)*th4d)/2 + (l4*cos(th1)*cos(th2)*cos(th3)*cos(delta - th4)*th3d)/2 + (l4*cos(th1)*cos(th2)*sin(th3)*cos(delta - th4)*th1d)/2 + (l4*cos(th2)*cos(th3)*sin(th1)*cos(delta - th4)*th3d)/2 - (l4*cos(th2)*sin(th1)*sin(th3)*cos(delta - th4)*th1d)/2 - (l4*cos(th1)*sin(th2)*sin(th3)*cos(delta - th4)*th2d)/2 + (l4*cos(th1)*cos(th2)*sin(th3)*sin(delta - th4)*th4d)/2 + (l5*cos(th1)*cos(th2)*cos(th5)*sin(th3)*cos(delta - th4)*th1d)/2 + (l5*cos(th2)*cos(th3)*cos(th5)*sin(th1)*cos(delta - th4)*th3d)/2 - (l5*cos(th5)*sin(th1)*sin(th2)*sin(th3)*cos(delta - th4)*th2d)/2 + (l5*cos(th2)*cos(th5)*sin(th1)*sin(th3)*sin(delta - th4)*th4d)/2 - (l5*cos(th2)*sin(th1)*sin(th3)*sin(th5)*cos(delta - th4)*th5d)/2) + 2*(l2*cos(th1)*sin(th2) + l3*cos(th1)*sin(th2)*sin(th3) - l4*cos(th1)*sin(th2)*sin(th3)*cos(delta - th4) - (l5*cos(th1)*cos(th5)*sin(th2)*sin(th3)*cos(delta - th4))/2)*(2*l2*sin(th1)*sin(th2)*th2d*th1d - l2*cos(th1)*cos(th2)*th2d^2 - l2*cos(th2)*sin(th1)*th1dd - l2*cos(th1)*sin(th2)*th2dd - l3*cos(th2)*sin(th1)*sin(th3)*th1dd - l3*cos(th1)*sin(th2)*sin(th3)*th2dd - l2*cos(th1)*cos(th2)*th1d^2 - l3*cos(th1)*cos(th2)*sin(th3)*th1d^2 - l3*cos(th1)*cos(th2)*sin(th3)*th2d^2 - l3*cos(th1)*cos(th2)*sin(th3)*th3d^2 + l3*cos(th1)*cos(th2)*cos(th3)*th3dd - 2*l3*cos(th2)*cos(th3)*sin(th1)*th3d*th1d - 2*l3*cos(th1)*cos(th3)*sin(th2)*th3d*th2d + l4*cos(th1)*cos(th2)*sin(th3)*cos(delta - th4)*th1d^2 + l4*cos(th1)*cos(th2)*sin(th3)*cos(delta - th4)*th2d^2 + l4*cos(th1)*cos(th2)*sin(th3)*cos(delta - th4)*th3d^2 + l4*cos(th1)*cos(th2)*sin(th3)*cos(delta - th4)*th4d^2 - l4*cos(th1)*cos(th2)*cos(th3)*cos(delta - th4)*th3dd + 2*l3*sin(th1)*sin(th2)*sin(th3)*th2d*th1d + l4*cos(th2)*sin(th1)*sin(th3)*cos(delta - th4)*th1dd + l4*cos(th1)*sin(th2)*sin(th3)*cos(delta - th4)*th2dd - l4*cos(th1)*cos(th2)*sin(th3)*sin(delta - th4)*th4dd + (l5*cos(th1)*cos(th2)*cos(th5)*sin(th3)*cos(delta - th4)*th1d^2)/2 + (l5*cos(th1)*cos(th2)*cos(th5)*sin(th3)*cos(delta - th4)*th2d^2)/2 + (l5*cos(th1)*cos(th2)*cos(th5)*sin(th3)*cos(delta - th4)*th3d^2)/2 + (l5*cos(th1)*cos(th2)*cos(th5)*sin(th3)*cos(delta - th4)*th4d^2)/2 + (l5*cos(th1)*cos(th2)*cos(th5)*sin(th3)*cos(delta - th4)*th5d^2)/2 - (l5*cos(th1)*cos(th2)*cos(th3)*cos(th5)*cos(delta - th4)*th3dd)/2 + 2*l4*cos(th2)*cos(th3)*sin(th1)*cos(delta - th4)*th3d*th1d + 2*l4*cos(th1)*cos(th3)*sin(th2)*cos(delta - th4)*th3d*th2d - 2*l4*cos(th1)*cos(th2)*cos(th3)*sin(delta - th4)*th4d*th3d + (l5*cos(th2)*cos(th5)*sin(th1)*sin(th3)*cos(delta - th4)*th1dd)/2 + (l5*cos(th1)*cos(th5)*sin(th2)*sin(th3)*cos(delta - th4)*th2dd)/2 - (l5*cos(th1)*cos(th2)*cos(th5)*sin(th3)*sin(delta - th4)*th4dd)/2 + (l5*cos(th1)*cos(th2)*sin(th3)*sin(th5)*cos(delta - th4)*th5dd)/2 - 2*l4*sin(th1)*sin(th2)*sin(th3)*cos(delta - th4)*th2d*th1d + 2*l4*cos(th2)*sin(th1)*sin(th3)*sin(delta - th4)*th4d*th1d + 2*l4*cos(th1)*sin(th2)*sin(th3)*sin(delta - th4)*th4d*th2d - l5*cos(th5)*sin(th1)*sin(th2)*sin(th3)*cos(delta - th4)*th2d*th1d + l5*cos(th2)*cos(th5)*sin(th1)*sin(th3)*sin(delta - th4)*th4d*th1d + l5*cos(th1)*cos(th5)*sin(th2)*sin(th3)*sin(delta - th4)*th4d*th2d - l5*cos(th2)*sin(th1)*sin(th3)*sin(th5)*cos(delta - th4)*th5d*th1d - l5*cos(th1)*sin(th2)*sin(th3)*sin(th5)*cos(delta - th4)*th5d*th2d + l5*cos(th1)*cos(th2)*sin(th3)*sin(th5)*sin(delta - th4)*th5d*th4d + l5*cos(th2)*cos(th3)*cos(th5)*sin(th1)*cos(delta - th4)*th3d*th1d + l5*cos(th1)*cos(th3)*cos(th5)*sin(th2)*cos(delta - th4)*th3d*th2d - l5*cos(th1)*cos(th2)*cos(th3)*cos(th5)*sin(delta - th4)*th4d*th3d + l5*cos(th1)*cos(th2)*cos(th3)*sin(th5)*cos(delta - th4)*th5d*th3d) - 2*(l2*sin(th1)*sin(th2) + l3*sin(th1)*sin(th2)*sin(th3) + (l4*cos(th1)*sin(th2)*sin(th3)*cos(delta - th4))/2 + (l4*sin(th1)*sin(th2)*sin(th3)*cos(delta - th4))/2 + (l5*cos(th5)*sin(th1)*sin(th2)*sin(th3)*cos(delta - th4))/2)*(l2*cos(th2)*sin(th1)*th1d^2 + l2*cos(th2)*sin(th1)*th2d^2 - l2*cos(th1)*cos(th2)*th1dd + l2*sin(th1)*sin(th2)*th2dd + l3*sin(th1)*sin(th2)*sin(th3)*th2dd + l3*cos(th2)*sin(th1)*sin(th3)*th1d^2 + l3*cos(th2)*sin(th1)*sin(th3)*th2d^2 + l3*cos(th2)*sin(th1)*sin(th3)*th3d^2 - l3*cos(th1)*cos(th2)*sin(th3)*th1dd - l3*cos(th2)*cos(th3)*sin(th1)*th3dd + 2*l2*cos(th1)*sin(th2)*th2d*th1d - 2*l3*cos(th1)*cos(th2)*cos(th3)*th3d*th1d + (l4*cos(th1)*cos(th2)*sin(th3)*cos(delta - th4)*th1d^2)/2 + (l4*cos(th1)*cos(th2)*sin(th3)*cos(delta - th4)*th2d^2)/2 + (l4*cos(th1)*cos(th2)*sin(th3)*cos(delta - th4)*th3d^2)/2 + (l4*cos(th1)*cos(th2)*sin(th3)*cos(delta - th4)*th4d^2)/2 + 2*l3*cos(th1)*sin(th2)*sin(th3)*th2d*th1d + 2*l3*cos(th3)*sin(th1)*sin(th2)*th3d*th2d - (l4*cos(th1)*cos(th2)*cos(th3)*cos(delta - th4)*th3dd)/2 + (l4*cos(th2)*sin(th1)*sin(th3)*cos(delta - th4)*th1d^2)/2 + (l4*cos(th2)*sin(th1)*sin(th3)*cos(delta - th4)*th2d^2)/2 + (l4*cos(th2)*sin(th1)*sin(th3)*cos(delta - th4)*th3d^2)/2 + (l4*cos(th2)*sin(th1)*sin(th3)*cos(delta - th4)*th4d^2)/2 - (l4*cos(th1)*cos(th2)*sin(th3)*cos(delta - th4)*th1dd)/2 - (l4*cos(th2)*cos(th3)*sin(th1)*cos(delta - th4)*th3dd)/2 + (l4*cos(th2)*sin(th1)*sin(th3)*cos(delta - th4)*th1dd)/2 + (l4*cos(th1)*sin(th2)*sin(th3)*cos(delta - th4)*th2dd)/2 - (l4*cos(th1)*cos(th2)*sin(th3)*sin(delta - th4)*th4dd)/2 + (l4*sin(th1)*sin(th2)*sin(th3)*cos(delta - th4)*th2dd)/2 - (l4*cos(th2)*sin(th1)*sin(th3)*sin(delta - th4)*th4dd)/2 - l4*cos(th1)*cos(th2)*cos(th3)*cos(delta - th4)*th3d*th1d + (l5*cos(th2)*cos(th5)*sin(th1)*sin(th3)*cos(delta - th4)*th1d^2)/2 + (l5*cos(th2)*cos(th5)*sin(th1)*sin(th3)*cos(delta - th4)*th2d^2)/2 + (l5*cos(th2)*cos(th5)*sin(th1)*sin(th3)*cos(delta - th4)*th3d^2)/2 + (l5*cos(th2)*cos(th5)*sin(th1)*sin(th3)*cos(delta - th4)*th4d^2)/2 + (l5*cos(th2)*cos(th5)*sin(th1)*sin(th3)*cos(delta - th4)*th5d^2)/2 - (l5*cos(th1)*cos(th2)*cos(th5)*sin(th3)*cos(delta - th4)*th1dd)/2 - (l5*cos(th2)*cos(th3)*cos(th5)*sin(th1)*cos(delta - th4)*th3dd)/2 + l4*cos(th2)*cos(th3)*sin(th1)*cos(delta - th4)*th3d*th1d + l4*cos(th1)*cos(th3)*sin(th2)*cos(delta - th4)*th3d*th2d - l4*cos(th1)*cos(th2)*cos(th3)*sin(delta - th4)*th4d*th3d + l4*cos(th1)*sin(th2)*sin(th3)*cos(delta - th4)*th2d*th1d - l4*cos(th1)*cos(th2)*sin(th3)*sin(delta - th4)*th4d*th1d + l4*cos(th3)*sin(th1)*sin(th2)*cos(delta - th4)*th3d*th2d - l4*cos(th2)*cos(th3)*sin(th1)*sin(delta - th4)*th4d*th3d + (l5*cos(th5)*sin(th1)*sin(th2)*sin(th3)*cos(delta - th4)*th2dd)/2 - (l5*cos(th2)*cos(th5)*sin(th1)*sin(th3)*sin(delta - th4)*th4dd)/2 + (l5*cos(th2)*sin(th1)*sin(th3)*sin(th5)*cos(delta - th4)*th5dd)/2 - l4*sin(th1)*sin(th2)*sin(th3)*cos(delta - th4)*th2d*th1d + l4*cos(th2)*sin(th1)*sin(th3)*sin(delta - th4)*th4d*th1d + l4*cos(th1)*sin(th2)*sin(th3)*sin(delta - th4)*th4d*th2d + l4*sin(th1)*sin(th2)*sin(th3)*sin(delta - th4)*th4d*th2d + l5*cos(th1)*cos(th5)*sin(th2)*sin(th3)*cos(delta - th4)*th2d*th1d - l5*cos(th1)*cos(th2)*cos(th5)*sin(th3)*sin(delta - th4)*th4d*th1d + l5*cos(th3)*cos(th5)*sin(th1)*sin(th2)*cos(delta - th4)*th3d*th2d + l5*cos(th1)*cos(th2)*sin(th3)*sin(th5)*cos(delta - th4)*th5d*th1d - l5*cos(th2)*cos(th3)*cos(th5)*sin(th1)*sin(delta - th4)*th4d*th3d + l5*cos(th2)*cos(th3)*sin(th1)*sin(th5)*cos(delta - th4)*th5d*th3d + l5*cos(th5)*sin(th1)*sin(th2)*sin(th3)*sin(delta - th4)*th4d*th2d - l5*sin(th1)*sin(th2)*sin(th3)*sin(th5)*cos(delta - th4)*th5d*th2d + l5*cos(th2)*sin(th1)*sin(th3)*sin(th5)*sin(delta - th4)*th5d*th4d - l5*cos(th1)*cos(th2)*cos(th3)*cos(th5)*cos(delta - th4)*th3d*th1d) - 2*(l4*cos(th2)*cos(th3)*cos(delta - th4)*th4d - l3*cos(th3)*sin(th2)*th2d - l3*cos(th2)*sin(th3)*th3d - 2*l2*cos(th2)*th2d + l4*cos(th3)*sin(th2)*sin(delta - th4)*th2d + l4*cos(th2)*sin(th3)*sin(delta - th4)*th3d + (l5*cos(th3)*sin(th2)*sin(th5)*sin(delta - th4)*th2d)/2 + (l5*cos(th2)*sin(th3)*sin(th5)*sin(delta - th4)*th3d)/2 + (l5*cos(th2)*cos(th3)*sin(th5)*cos(delta - th4)*th4d)/2 - (l5*cos(th2)*cos(th3)*cos(th5)*sin(delta - th4)*th5d)/2)*(2*l2*sin(th2)*th2d - l3*cos(th2)*cos(th3)*th2d + l3*sin(th2)*sin(th3)*th3d + l4*cos(th2)*cos(th3)*sin(delta - th4)*th2d - l4*cos(th3)*sin(th2)*cos(delta - th4)*th4d - l4*sin(th2)*sin(th3)*sin(delta - th4)*th3d - (l5*sin(th2)*sin(th3)*sin(th5)*sin(delta - th4)*th3d)/2 + (l5*cos(th2)*cos(th3)*sin(th5)*sin(delta - th4)*th2d)/2 - (l5*cos(th3)*sin(th2)*sin(th5)*cos(delta - th4)*th4d)/2 + (l5*cos(th3)*cos(th5)*sin(th2)*sin(delta - th4)*th5d)/2) + 2*(l2*cos(th2)*sin(th1)*th1d + l2*cos(th1)*sin(th2)*th2d - l3*cos(th1)*cos(th2)*cos(th3)*th3d + l3*cos(th2)*sin(th1)*sin(th3)*th1d + l3*cos(th1)*sin(th2)*sin(th3)*th2d + l4*cos(th1)*cos(th2)*cos(th3)*cos(delta - th4)*th3d - l4*cos(th2)*sin(th1)*sin(th3)*cos(delta - th4)*th1d - l4*cos(th1)*sin(th2)*sin(th3)*cos(delta - th4)*th2d + l4*cos(th1)*cos(th2)*sin(th3)*sin(delta - th4)*th4d + (l5*cos(th1)*cos(th2)*cos(th3)*cos(th5)*cos(delta - th4)*th3d)/2 - (l5*cos(th2)*cos(th5)*sin(th1)*sin(th3)*cos(delta - th4)*th1d)/2 - (l5*cos(th1)*cos(th5)*sin(th2)*sin(th3)*cos(delta - th4)*th2d)/2 + (l5*cos(th1)*cos(th2)*cos(th5)*sin(th3)*sin(delta - th4)*th4d)/2 - (l5*cos(th1)*cos(th2)*sin(th3)*sin(th5)*cos(delta - th4)*th5d)/2)*(l2*sin(th1)*sin(th2)*th1d - l2*cos(th1)*cos(th2)*th2d - l3*cos(th1)*cos(th2)*sin(th3)*th2d - l3*cos(th1)*cos(th3)*sin(th2)*th3d + l3*sin(th1)*sin(th2)*sin(th3)*th1d - l4*sin(th1)*sin(th2)*sin(th3)*cos(delta - th4)*th1d + l4*cos(th1)*sin(th2)*sin(th3)*sin(delta - th4)*th4d + l4*cos(th1)*cos(th2)*sin(th3)*cos(delta - th4)*th2d + l4*cos(th1)*cos(th3)*sin(th2)*cos(delta - th4)*th3d + (l5*cos(th1)*cos(th2)*cos(th5)*sin(th3)*cos(delta - th4)*th2d)/2 + (l5*cos(th1)*cos(th3)*cos(th5)*sin(th2)*cos(delta - th4)*th3d)/2 - (l5*cos(th5)*sin(th1)*sin(th2)*sin(th3)*cos(delta - th4)*th1d)/2 + (l5*cos(th1)*cos(th5)*sin(th2)*sin(th3)*sin(delta - th4)*th4d)/2 - (l5*cos(th1)*sin(th2)*sin(th3)*sin(th5)*cos(delta - th4)*th5d)/2)))/2 + (m2*((l2^2*cos(th2)^2*th2dd)/2 + l2*cos(th1)*sin(th2)*((l2*cos(th1)*cos(th2)*th1d^2)/2 + (l2*cos(th1)*cos(th2)*th2d^2)/2 + (l2*cos(th2)*sin(th1)*th1dd)/2 + (l2*cos(th1)*sin(th2)*th2dd)/2 - l2*sin(th1)*sin(th2)*th2d*th1d) + l2*sin(th1)*sin(th2)*((l2*cos(th2)*sin(th1)*th1d^2)/2 + (l2*cos(th2)*sin(th1)*th2d^2)/2 - (l2*cos(th1)*cos(th2)*th1dd)/2 + (l2*sin(th1)*sin(th2)*th2dd)/2 + l2*cos(th1)*sin(th2)*th2d*th1d) - l2^2*cos(th2)*sin(th2)*th2d^2 - l2*sin(th1)*sin(th2)*((l2*cos(th2)*sin(th1)*th1d)/2 + (l2*cos(th1)*sin(th2)*th2d)/2)*th1d + l2*cos(th1)*cos(th2)*((l2*cos(th2)*sin(th1)*th1d)/2 + (l2*cos(th1)*sin(th2)*th2d)/2)*th2d - l2*cos(th1)*sin(th2)*((l2*cos(th1)*cos(th2)*th1d)/2 - (l2*sin(th1)*sin(th2)*th2d)/2)*th1d - l2*cos(th2)*sin(th1)*((l2*cos(th1)*cos(th2)*th1d)/2 - (l2*sin(th1)*sin(th2)*th2d)/2)*th2d))/2 - (m4*(2*(l2*cos(th1)*cos(th2)*th1d - l2*sin(th1)*sin(th2)*th2d + l3*cos(th1)*cos(th2)*sin(th3)*th1d + l3*cos(th2)*cos(th3)*sin(th1)*th3d - l3*sin(th1)*sin(th2)*sin(th3)*th2d + (l4*cos(th1)*cos(th2)*cos(th3)*cos(delta - th4)*th3d)/2 - (l4*cos(th2)*sin(th1)*sin(th3)*cos(delta - th4)*th1d)/2 - (l4*cos(th1)*sin(th2)*sin(th3)*cos(delta - th4)*th2d)/2 + (l4*cos(th1)*cos(th2)*sin(th3)*sin(delta - th4)*th4d)/2)*(l2*cos(th1)*sin(th2)*th1d + l2*cos(th2)*sin(th1)*th2d + l3*cos(th1)*sin(th2)*sin(th3)*th1d + l3*cos(th2)*sin(th1)*sin(th3)*th2d + l3*cos(th3)*sin(th1)*sin(th2)*th3d - (l4*sin(th1)*sin(th2)*sin(th3)*cos(delta - th4)*th1d)/2 + (l4*cos(th1)*sin(th2)*sin(th3)*sin(delta - th4)*th4d)/2 + (l4*cos(th1)*cos(th2)*sin(th3)*cos(delta - th4)*th2d)/2 + (l4*cos(th1)*cos(th3)*sin(th2)*cos(delta - th4)*th3d)/2) - 2*(l2*sin(th1)*sin(th2) + l3*sin(th1)*sin(th2)*sin(th3) + (l4*cos(th1)*sin(th2)*sin(th3)*cos(delta - th4))/2)*(l2*cos(th2)*sin(th1)*th1d^2 + l2*cos(th2)*sin(th1)*th2d^2 - l2*cos(th1)*cos(th2)*th1dd + l2*sin(th1)*sin(th2)*th2dd + l3*sin(th1)*sin(th2)*sin(th3)*th2dd + l3*cos(th2)*sin(th1)*sin(th3)*th1d^2 + l3*cos(th2)*sin(th1)*sin(th3)*th2d^2 + l3*cos(th2)*sin(th1)*sin(th3)*th3d^2 - l3*cos(th1)*cos(th2)*sin(th3)*th1dd - l3*cos(th2)*cos(th3)*sin(th1)*th3dd + 2*l2*cos(th1)*sin(th2)*th2d*th1d - 2*l3*cos(th1)*cos(th2)*cos(th3)*th3d*th1d + (l4*cos(th1)*cos(th2)*sin(th3)*cos(delta - th4)*th1d^2)/2 + (l4*cos(th1)*cos(th2)*sin(th3)*cos(delta - th4)*th2d^2)/2 + (l4*cos(th1)*cos(th2)*sin(th3)*cos(delta - th4)*th3d^2)/2 + (l4*cos(th1)*cos(th2)*sin(th3)*cos(delta - th4)*th4d^2)/2 + 2*l3*cos(th1)*sin(th2)*sin(th3)*th2d*th1d + 2*l3*cos(th3)*sin(th1)*sin(th2)*th3d*th2d - (l4*cos(th1)*cos(th2)*cos(th3)*cos(delta - th4)*th3dd)/2 + (l4*cos(th2)*sin(th1)*sin(th3)*cos(delta - th4)*th1dd)/2 + (l4*cos(th1)*sin(th2)*sin(th3)*cos(delta - th4)*th2dd)/2 - (l4*cos(th1)*cos(th2)*sin(th3)*sin(delta - th4)*th4dd)/2 + l4*cos(th2)*cos(th3)*sin(th1)*cos(delta - th4)*th3d*th1d + l4*cos(th1)*cos(th3)*sin(th2)*cos(delta - th4)*th3d*th2d - l4*cos(th1)*cos(th2)*cos(th3)*sin(delta - th4)*th4d*th3d - l4*sin(th1)*sin(th2)*sin(th3)*cos(delta - th4)*th2d*th1d + l4*cos(th2)*sin(th1)*sin(th3)*sin(delta - th4)*th4d*th1d + l4*cos(th1)*sin(th2)*sin(th3)*sin(delta - th4)*th4d*th2d) + 2*(2*l2*cos(th2) + l3*cos(th3)*sin(th2) - (l4*cos(th3)*sin(th2)*sin(delta - th4))/2)*(2*l2*sin(th2)*th2d^2 - 2*l2*cos(th2)*th2dd - l3*cos(th2)*cos(th3)*th2d^2 - l3*cos(th2)*cos(th3)*th3d^2 - l3*cos(th3)*sin(th2)*th2dd - l3*cos(th2)*sin(th3)*th3dd + (l4*cos(th2)*cos(th3)*sin(delta - th4)*th2d^2)/2 + (l4*cos(th2)*cos(th3)*sin(delta - th4)*th3d^2)/2 + (l4*cos(th2)*cos(th3)*sin(delta - th4)*th4d^2)/2 + 2*l3*sin(th2)*sin(th3)*th3d*th2d + (l4*cos(th2)*cos(th3)*cos(delta - th4)*th4dd)/2 + (l4*cos(th3)*sin(th2)*sin(delta - th4)*th2dd)/2 + (l4*cos(th2)*sin(th3)*sin(delta - th4)*th3dd)/2 - l4*cos(th3)*sin(th2)*cos(delta - th4)*th4d*th2d - l4*cos(th2)*sin(th3)*cos(delta - th4)*th4d*th3d - l4*sin(th2)*sin(th3)*sin(delta - th4)*th3d*th2d) + 2*(2*l2*cos(th2)*th2d + l3*cos(th3)*sin(th2)*th2d + l3*cos(th2)*sin(th3)*th3d - (l4*cos(th2)*cos(th3)*cos(delta - th4)*th4d)/2 - (l4*cos(th3)*sin(th2)*sin(delta - th4)*th2d)/2 - (l4*cos(th2)*sin(th3)*sin(delta - th4)*th3d)/2)*(2*l2*sin(th2)*th2d - l3*cos(th2)*cos(th3)*th2d + l3*sin(th2)*sin(th3)*th3d + (l4*cos(th2)*cos(th3)*sin(delta - th4)*th2d)/2 - (l4*cos(th3)*sin(th2)*cos(delta - th4)*th4d)/2 - (l4*sin(th2)*sin(th3)*sin(delta - th4)*th3d)/2) - 2*(l2*cos(th1)*sin(th2) + l3*cos(th1)*sin(th2)*sin(th3) - (l4*cos(th1)*sin(th2)*sin(th3)*cos(delta - th4))/2)*(l2*cos(th1)*cos(th2)*th1d^2 + l2*cos(th1)*cos(th2)*th2d^2 + l2*cos(th2)*sin(th1)*th1dd + l2*cos(th1)*sin(th2)*th2dd + l3*cos(th2)*sin(th1)*sin(th3)*th1dd + l3*cos(th1)*sin(th2)*sin(th3)*th2dd - 2*l2*sin(th1)*sin(th2)*th2d*th1d + l3*cos(th1)*cos(th2)*sin(th3)*th1d^2 + l3*cos(th1)*cos(th2)*sin(th3)*th2d^2 + l3*cos(th1)*cos(th2)*sin(th3)*th3d^2 - l3*cos(th1)*cos(th2)*cos(th3)*th3dd + 2*l3*cos(th2)*cos(th3)*sin(th1)*th3d*th1d + 2*l3*cos(th1)*cos(th3)*sin(th2)*th3d*th2d - (l4*cos(th1)*cos(th2)*sin(th3)*cos(delta - th4)*th1d^2)/2 - (l4*cos(th1)*cos(th2)*sin(th3)*cos(delta - th4)*th2d^2)/2 - (l4*cos(th1)*cos(th2)*sin(th3)*cos(delta - th4)*th3d^2)/2 - (l4*cos(th1)*cos(th2)*sin(th3)*cos(delta - th4)*th4d^2)/2 + (l4*cos(th1)*cos(th2)*cos(th3)*cos(delta - th4)*th3dd)/2 - 2*l3*sin(th1)*sin(th2)*sin(th3)*th2d*th1d - (l4*cos(th2)*sin(th1)*sin(th3)*cos(delta - th4)*th1dd)/2 - (l4*cos(th1)*sin(th2)*sin(th3)*cos(delta - th4)*th2dd)/2 + (l4*cos(th1)*cos(th2)*sin(th3)*sin(delta - th4)*th4dd)/2 - l4*cos(th2)*cos(th3)*sin(th1)*cos(delta - th4)*th3d*th1d - l4*cos(th1)*cos(th3)*sin(th2)*cos(delta - th4)*th3d*th2d + l4*cos(th1)*cos(th2)*cos(th3)*sin(delta - th4)*th4d*th3d + l4*sin(th1)*sin(th2)*sin(th3)*cos(delta - th4)*th2d*th1d - l4*cos(th2)*sin(th1)*sin(th3)*sin(delta - th4)*th4d*th1d - l4*cos(th1)*sin(th2)*sin(th3)*sin(delta - th4)*th4d*th2d) + 2*(l2*cos(th2)*sin(th1)*th1d + l2*cos(th1)*sin(th2)*th2d - l3*cos(th1)*cos(th2)*cos(th3)*th3d + l3*cos(th2)*sin(th1)*sin(th3)*th1d + l3*cos(th1)*sin(th2)*sin(th3)*th2d + (l4*cos(th1)*cos(th2)*cos(th3)*cos(delta - th4)*th3d)/2 - (l4*cos(th2)*sin(th1)*sin(th3)*cos(delta - th4)*th1d)/2 - (l4*cos(th1)*sin(th2)*sin(th3)*cos(delta - th4)*th2d)/2 + (l4*cos(th1)*cos(th2)*sin(th3)*sin(delta - th4)*th4d)/2)*(l2*sin(th1)*sin(th2)*th1d - l2*cos(th1)*cos(th2)*th2d - l3*cos(th1)*cos(th2)*sin(th3)*th2d - l3*cos(th1)*cos(th3)*sin(th2)*th3d + l3*sin(th1)*sin(th2)*sin(th3)*th1d - (l4*sin(th1)*sin(th2)*sin(th3)*cos(delta - th4)*th1d)/2 + (l4*cos(th1)*sin(th2)*sin(th3)*sin(delta - th4)*th4d)/2 + (l4*cos(th1)*cos(th2)*sin(th3)*cos(delta - th4)*th2d)/2 + (l4*cos(th1)*cos(th3)*sin(th2)*cos(delta - th4)*th3d)/2)))/2
 
